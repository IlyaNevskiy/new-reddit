import React, { useState } from 'react';
import styles from './sortblock.css';
import classNames from 'classnames';
import { useDispatch } from 'react-redux';
import { updateSortChoice } from '../../store/reducer';
import { useNavigate } from 'react-router-dom';

export function SortBlock() {
  const[prevElement, setPrevElement] = useState('best');
  const dispatch = useDispatch();
  const navigate = useNavigate();

  function onClick (choice: string){
    if(choice!=prevElement){
    const element = document.getElementById('sortBlock_'+choice);
    const prevElementByid = document.getElementById('sortBlock_'+ prevElement);
    switch(choice){
      case 'best':
        element?.classList.add(styles.is_active);
        prevElementByid?.classList.remove(styles.is_active);
        setPrevElement('best');
        break;
      case 'hot':
        element?.classList.add(styles.is_active);
        prevElementByid?.classList.remove(styles.is_active);
        setPrevElement('hot');
        break;
      case 'new':
        element?.classList.add(styles.is_active);
        prevElementByid?.classList.remove(styles.is_active);
        setPrevElement('new');
        break;
      case 'rising':
        element?.classList.add(styles.is_active);
        prevElementByid?.classList.remove(styles.is_active);
        setPrevElement('rising');
        break;
    }
    dispatch(updateSortChoice({id: choice, bool:true}));
    navigate('/posts');
  }
  }

  return (
<div className={styles.sortBlock}>
<ul className={styles.sortList}>
  <li id='sortBlock_best' className={classNames(styles.sortList__item, styles.is_active)} onClick={()=>onClick("best")}>
    <svg width="14px" height="14px" viewBox="0 0 14 14" version="1.1">
<g id="surface1">
<path d="M 5.640625 0.164062 C 5.445312 0.210938 5.308594 0.316406 4.914062 0.714844 L 4.507812 1.128906 L 4.054688 1.351562 C 3.519531 1.609375 3.402344 1.6875 3.28125 1.871094 C 3.160156 2.046875 3.113281 2.214844 3.058594 2.675781 C 3.003906 3.15625 2.960938 3.285156 2.726562 3.714844 C 2.507812 4.109375 2.441406 4.269531 2.414062 4.457031 C 2.390625 4.640625 2.457031 4.882812 2.609375 5.164062 C 2.996094 5.871094 3 5.886719 3.0625 6.429688 C 3.128906 7 3.195312 7.171875 3.425781 7.382812 C 3.554688 7.492188 4.066406 7.773438 4.152344 7.773438 C 4.164062 7.773438 4.175781 7.785156 4.175781 7.796875 C 4.175781 7.808594 3.695312 8.851562 3.105469 10.113281 C 2.515625 11.378906 2.035156 12.414062 2.039062 12.417969 C 2.042969 12.421875 2.519531 12.304688 3.097656 12.160156 L 4.148438 11.890625 L 4.335938 12.246094 C 4.4375 12.441406 4.660156 12.878906 4.832031 13.222656 C 5.003906 13.5625 5.152344 13.851562 5.167969 13.859375 C 5.183594 13.867188 5.597656 13.011719 6.089844 11.953125 C 6.582031 10.898438 6.992188 10.03125 7 10.03125 C 7.007812 10.03125 7.417969 10.898438 7.910156 11.957031 C 8.726562 13.703125 8.816406 13.878906 8.851562 13.832031 C 8.867188 13.804688 9.03125 13.492188 9.210938 13.136719 C 9.386719 12.78125 9.605469 12.355469 9.691406 12.191406 L 9.851562 11.890625 L 10.902344 12.160156 C 11.480469 12.304688 11.957031 12.421875 11.960938 12.417969 C 11.964844 12.414062 11.484375 11.378906 10.894531 10.117188 C 10.304688 8.855469 9.824219 7.8125 9.824219 7.796875 C 9.824219 7.785156 9.835938 7.773438 9.851562 7.773438 C 9.867188 7.773438 10.003906 7.714844 10.15625 7.640625 C 10.6875 7.386719 10.835938 7.175781 10.910156 6.589844 C 11.003906 5.875 10.996094 5.90625 11.40625 5.125 C 11.6875 4.585938 11.660156 4.394531 11.207031 3.59375 C 11.042969 3.304688 10.992188 3.125 10.9375 2.664062 C 10.871094 2.085938 10.78125 1.867188 10.53125 1.667969 C 10.476562 1.621094 10.21875 1.484375 9.960938 1.355469 L 9.492188 1.128906 L 9.085938 0.71875 C 8.480469 0.0976562 8.375 0.0625 7.582031 0.214844 C 7.347656 0.261719 7.085938 0.300781 7 0.300781 C 6.914062 0.300781 6.652344 0.261719 6.421875 0.21875 C 6.007812 0.136719 5.800781 0.125 5.640625 0.164062 Z M 7.515625 1.789062 C 8.59375 1.996094 9.414062 2.769531 9.71875 3.863281 C 9.789062 4.113281 9.816406 4.6875 9.769531 4.96875 C 9.546875 6.347656 8.390625 7.34375 7 7.34375 C 5.730469 7.34375 4.671875 6.539062 4.296875 5.285156 C 4.226562 5.0625 4.21875 5.007812 4.21875 4.5625 C 4.21875 4.140625 4.226562 4.046875 4.277344 3.847656 C 4.355469 3.5625 4.589844 3.082031 4.765625 2.851562 C 5.175781 2.3125 5.792969 1.925781 6.460938 1.792969 C 6.699219 1.742188 7.273438 1.742188 7.515625 1.789062 Z M 7.515625 1.789062 "/>
</g>
    </svg>
    <span className={styles.sotrList__item__title}>Лучшее</span>
  </li>
  <li id='sortBlock_hot' className={styles.sortList__item} onClick={()=>onClick("hot")}>
    <svg width="14px" height="14px" viewBox="0 0 18 18" version="1.1">
<g id="surface1">
<path  d="M 8.9375 17.820312 C 4.777344 17.820312 1.824219 14.933594 1.824219 10.957031 C 1.824219 8.847656 3.089844 6.574219 3.144531 6.476562 C 3.253906 6.28125 3.46875 6.175781 3.695312 6.199219 C 3.917969 6.230469 4.101562 6.390625 4.15625 6.609375 C 4.160156 6.621094 4.503906 7.898438 4.953125 8.605469 C 5.257812 9.082031 5.5625 9.417969 5.90625 9.652344 C 5.671875 8.640625 5.496094 7.117188 5.785156 5.554688 C 6.585938 1.269531 9.960938 0.242188 10.105469 0.203125 C 10.292969 0.148438 10.492188 0.195312 10.632812 0.324219 C 10.773438 0.457031 10.835938 0.648438 10.800781 0.835938 C 10.796875 0.867188 10.238281 3.867188 11.421875 6.429688 C 11.527344 6.660156 11.679688 6.929688 11.839844 7.199219 C 11.886719 6.828125 11.957031 6.433594 12.066406 6.050781 C 12.5 4.535156 13.621094 4.015625 13.667969 3.996094 C 13.855469 3.910156 14.074219 3.9375 14.234375 4.0625 C 14.398438 4.191406 14.476562 4.398438 14.4375 4.597656 C 14.433594 4.636719 14.277344 5.667969 15.152344 7.132812 C 15.949219 8.457031 16.175781 9.3125 16.175781 10.957031 C 16.175781 14.933594 13.132812 17.820312 8.9375 17.820312 Z M 3.542969 8.234375 C 3.242188 9 2.929688 10.015625 2.929688 10.957031 C 2.929688 14.292969 5.417969 16.714844 8.9375 16.714844 C 12.492188 16.714844 15.070312 14.296875 15.070312 10.957031 C 15.070312 9.515625 14.894531 8.847656 14.207031 7.703125 C 13.746094 6.9375 13.519531 6.25 13.410156 5.699219 C 13.300781 5.878906 13.199219 6.09375 13.125 6.355469 C 12.789062 7.53125 12.875 8.90625 12.875 8.921875 C 12.890625 9.167969 12.742188 9.394531 12.507812 9.476562 C 12.277344 9.558594 12.015625 9.480469 11.871094 9.277344 C 11.832031 9.214844 10.851562 7.828125 10.417969 6.890625 C 9.519531 4.949219 9.53125 2.847656 9.625 1.636719 C 8.714844 2.167969 7.320312 3.351562 6.871094 5.761719 C 6.433594 8.105469 7.28125 10.445312 7.292969 10.46875 C 7.367188 10.660156 7.324219 10.878906 7.191406 11.03125 C 7.054688 11.183594 6.847656 11.25 6.648438 11.203125 C 6.578125 11.1875 5.027344 10.78125 4.019531 9.199219 C 3.839844 8.914062 3.679688 8.570312 3.542969 8.234375 Z M 3.542969 8.234375 "/>
</g>
    </svg>
    <span className={styles.sotrList__item__title}>Горячее</span>
  </li>
  <li id='sortBlock_new' className={styles.sortList__item} onClick={()=>onClick("new")}>
    <svg  width="14px" height="14px" viewBox="0 0 18 18" version="1.1">
    <g id="surface1">
    <path  d="M 16.492188 8.363281 L 17.160156 8.613281 L 17.820312 9.019531 L 17.820312 9.222656 L 17.160156 9.625 L 16.492188 9.878906 L 16.449219 10.222656 L 17.035156 10.632812 L 17.574219 11.1875 L 17.519531 11.386719 L 16.78125 11.613281 L 16.070312 11.691406 L 15.945312 12.011719 L 16.410156 12.554688 L 16.792969 13.226562 L 16.695312 13.40625 L 15.921875 13.441406 L 15.21875 13.339844 L 15.015625 13.621094 L 15.328125 14.261719 L 15.535156 15.007812 L 15.390625 15.15625 L 14.632812 14.996094 L 13.972656 14.722656 L 13.707031 14.945312 L 13.851562 15.644531 L 13.867188 16.417969 L 13.691406 16.527344 L 12.996094 16.1875 L 12.425781 15.757812 L 12.113281 15.90625 L 12.082031 16.617188 L 11.902344 17.371094 L 11.707031 17.433594 L 11.117188 16.929688 L 10.671875 16.371094 L 10.332031 16.4375 L 10.125 17.117188 L 9.761719 17.800781 L 9.554688 17.816406 L 9.113281 17.179688 L 8.820312 16.53125 L 8.472656 16.511719 L 8.101562 17.121094 L 7.582031 17.691406 L 7.378906 17.65625 L 7.109375 16.929688 L 6.984375 16.226562 L 6.65625 16.117188 L 6.144531 16.617188 L 5.5 17.039062 L 5.308594 16.957031 L 5.226562 16.1875 L 5.285156 15.476562 L 4.992188 15.289062 L 4.375 15.644531 L 3.644531 15.898438 L 3.484375 15.765625 L 3.59375 15 L 3.828125 14.324219 L 3.589844 14.074219 L 2.898438 14.257812 L 2.125 14.320312 L 2.003906 14.152344 L 2.300781 13.4375 L 2.695312 12.84375 L 2.527344 12.539062 L 1.8125 12.550781 L 1.050781 12.421875 L 0.976562 12.226562 L 1.441406 11.609375 L 1.972656 11.132812 L 1.882812 10.796875 L 1.191406 10.628906 L 0.484375 10.3125 L 0.460938 10.109375 L 1.066406 9.625 L 1.699219 9.292969 L 1.699219 8.945312 L 1.066406 8.613281 L 0.460938 8.128906 L 0.484375 7.925781 L 1.191406 7.609375 L 1.886719 7.441406 L 1.972656 7.109375 L 1.445312 6.628906 L 0.976562 6.011719 L 1.054688 5.820312 L 1.816406 5.6875 L 2.527344 5.699219 L 2.695312 5.394531 L 2.304688 4.796875 L 2.007812 4.085938 L 2.128906 3.917969 L 2.898438 3.976562 L 3.585938 4.167969 L 3.824219 3.914062 L 3.59375 3.238281 L 3.484375 2.472656 L 3.640625 2.34375 L 4.371094 2.59375 L 4.992188 2.949219 L 5.28125 2.761719 L 5.226562 2.050781 L 5.308594 1.285156 L 5.496094 1.195312 L 6.140625 1.621094 L 6.652344 2.117188 L 6.980469 2.007812 L 7.105469 1.304688 L 7.375 0.582031 L 7.578125 0.542969 L 8.097656 1.117188 L 8.472656 1.726562 L 8.816406 1.707031 L 9.113281 1.054688 L 9.554688 0.421875 L 9.761719 0.433594 L 10.125 1.117188 L 10.332031 1.800781 L 10.671875 1.863281 L 11.117188 1.308594 L 11.707031 0.804688 L 11.902344 0.867188 L 12.082031 1.617188 L 12.113281 2.332031 L 12.425781 2.480469 L 12.996094 2.050781 L 13.691406 1.707031 L 13.867188 1.816406 L 13.851562 2.59375 L 13.707031 3.289062 L 13.972656 3.511719 L 14.632812 3.238281 L 15.390625 3.078125 L 15.53125 3.230469 L 15.324219 3.972656 L 15.011719 4.613281 L 15.214844 4.894531 L 15.917969 4.796875 L 16.691406 4.832031 L 16.789062 5.011719 L 16.40625 5.683594 L 15.945312 6.226562 L 16.070312 6.550781 L 16.78125 6.628906 L 17.519531 6.855469 L 17.574219 7.054688 L 17.035156 7.609375 L 16.449219 8.019531 Z M 16.492188 8.363281 "/>
    <path  d="M 16.210938 8.125 L 16.878906 8.375 L 17.539062 8.777344 L 17.539062 8.984375 L 16.878906 9.386719 L 16.210938 9.640625 L 16.167969 9.984375 L 16.753906 10.394531 L 17.292969 10.949219 L 17.242188 11.148438 L 16.503906 11.375 L 15.792969 11.453125 L 15.664062 11.773438 L 16.128906 12.316406 L 16.515625 12.988281 L 16.414062 13.167969 L 15.644531 13.203125 L 14.9375 13.101562 L 14.734375 13.382812 L 15.050781 14.023438 L 15.253906 14.769531 L 15.113281 14.917969 L 14.355469 14.761719 L 13.699219 14.488281 L 13.425781 14.707031 L 13.570312 15.40625 L 13.585938 16.179688 L 13.410156 16.289062 L 12.71875 15.945312 L 12.144531 15.519531 L 11.832031 15.664062 L 11.800781 16.378906 L 11.621094 17.128906 L 11.425781 17.195312 L 10.835938 16.691406 L 10.390625 16.132812 L 10.050781 16.195312 L 9.84375 16.878906 L 9.480469 17.5625 L 9.277344 17.574219 L 8.832031 16.941406 L 8.539062 16.289062 L 8.191406 16.269531 L 7.820312 16.875 L 7.300781 17.449219 L 7.097656 17.410156 L 6.824219 16.6875 L 6.703125 15.984375 L 6.375 15.875 L 5.863281 16.371094 L 5.214844 16.796875 L 5.027344 16.710938 L 4.945312 15.941406 L 5.003906 15.230469 L 4.710938 15.042969 L 4.09375 15.398438 L 3.363281 15.652344 L 3.203125 15.519531 L 3.3125 14.753906 L 3.546875 14.078125 L 3.308594 13.824219 L 2.621094 14.015625 L 1.847656 14.074219 L 1.726562 13.910156 L 2.023438 13.195312 L 2.417969 12.597656 L 2.25 12.292969 L 1.539062 12.304688 L 0.773438 12.183594 L 0.699219 11.988281 L 1.164062 11.371094 L 1.691406 10.890625 L 1.605469 10.558594 L 0.910156 10.390625 L 0.207031 10.074219 L 0.179688 9.871094 L 0.785156 9.386719 L 1.417969 9.054688 L 1.417969 8.707031 L 0.785156 8.375 L 0.179688 7.890625 L 0.207031 7.6875 L 0.910156 7.371094 L 1.605469 7.203125 L 1.691406 6.867188 L 1.164062 6.390625 L 0.695312 5.773438 L 0.773438 5.578125 L 1.535156 5.449219 L 2.25 5.460938 L 2.414062 5.15625 L 2.023438 4.5625 L 1.726562 3.847656 L 1.847656 3.679688 L 2.617188 3.742188 L 3.304688 3.929688 L 3.542969 3.675781 L 3.3125 3.003906 L 3.203125 2.234375 L 3.359375 2.105469 L 4.089844 2.355469 L 4.710938 2.710938 L 5.003906 2.527344 L 4.945312 1.8125 L 5.027344 1.046875 L 5.214844 0.957031 L 5.859375 1.382812 L 6.371094 1.878906 L 6.703125 1.769531 L 6.824219 1.066406 L 7.09375 0.34375 L 7.296875 0.304688 L 7.816406 0.878906 L 8.191406 1.488281 L 8.535156 1.464844 L 8.828125 0.8125 L 9.273438 0.179688 L 9.480469 0.191406 L 9.839844 0.875 L 10.050781 1.558594 L 10.390625 1.625 L 10.835938 1.066406 L 11.421875 0.5625 L 11.617188 0.625 L 11.800781 1.378906 L 11.832031 2.089844 L 12.144531 2.238281 L 12.714844 1.808594 L 13.410156 1.46875 L 13.585938 1.578125 L 13.570312 2.351562 L 13.425781 3.050781 L 13.691406 3.269531 L 14.347656 2.996094 L 15.105469 2.839844 L 15.246094 2.988281 L 15.042969 3.734375 L 14.726562 4.375 L 14.929688 4.65625 L 15.636719 4.554688 L 16.410156 4.589844 L 16.507812 4.769531 L 16.128906 5.445312 L 15.664062 5.988281 L 15.792969 6.3125 L 16.5 6.386719 L 17.242188 6.613281 L 17.292969 6.816406 L 16.753906 7.371094 L 16.167969 7.78125 Z M 16.210938 8.125 "/>
    </g>
    </svg>
    <span className={styles.sotrList__item__title}> Новое</span>
  </li>
  <li id='sortBlock_rising' className={styles.sortList__item} onClick={()=>onClick("rising")}>
    <svg width="14px" height="14px" viewBox="0 0 20 20" version="1.1">
  <g id="surface1">
  <path d="M 19.800781 16.125 L 19.800781 17.351562 L 0.199219 17.351562 L 0.199219 2.652344 L 1.425781 2.652344 L 1.425781 16.128906 L 19.800781 16.128906 Z M 18.574219 4.179688 L 18.574219 8.34375 C 18.574219 8.476562 18.515625 8.570312 18.390625 8.625 C 18.265625 8.679688 18.152344 8.65625 18.050781 8.554688 L 16.890625 7.394531 L 10.835938 13.453125 C 10.769531 13.519531 10.695312 13.550781 10.613281 13.550781 C 10.53125 13.550781 10.457031 13.519531 10.390625 13.453125 L 8.160156 11.222656 L 4.183594 15.207031 L 2.34375 13.367188 L 7.945312 7.769531 C 8.007812 7.707031 8.078125 7.675781 8.164062 7.675781 C 8.246094 7.675781 8.320312 7.707031 8.382812 7.769531 L 10.613281 10 L 15.054688 5.558594 L 13.894531 4.398438 C 13.792969 4.296875 13.769531 4.1875 13.824219 4.058594 C 13.878906 3.9375 13.972656 3.875 14.105469 3.875 L 18.269531 3.875 C 18.359375 3.875 18.433594 3.902344 18.488281 3.960938 C 18.546875 4.019531 18.574219 4.09375 18.574219 4.179688 Z M 18.574219 4.179688 "/>
  </g>
    </svg>
    <span className={styles.sotrList__item__title}>Растущие</span>
  </li>
</ul>

</div>
  );
}
